#include "stdafx.h"
#include <stdio.h>

#define sort(type, arr, count) type##Sort(arr, count, type##Swap)
#define print(type, arr, count) type##Print(arr, count)

void intSwap(int *p1, int *p2) {
	int tmp = *p1;
	*p1 = *p2;
	*p2 = tmp;
}

void doubleSwap(double *p1, double *p2) {
	double tmp = *p1;
	*p1 = *p2;
	*p2 = tmp;
}

void intPrint(int *arr, int count) {
	for (int i = 0; i<count; i++) {
		printf("%d ", arr[i]);
	}
	printf("\n");
}

void doublePrint(double *arr, int count) {
	for (int i = 0; i<count; i++) {
		printf("%lf ", arr[i]);
	}
	printf("\n");
}

void intSort(int* arr, int count, void(*swap)(int*, int*)) {
	for (int i = 0; i<(count - 1); i++) {
		for (int j = (i + 1); j<count; j++) {
			if (arr[i] > arr[j]) {
				swap(arr + i, arr + j);
			}
		}
	}
}

void doubleSort(double* arr, int count, void(*swap)(double*, double*)) {
	for (int i = 0; i<(count - 1); i++) {
		for (int j = (i + 1); j<count; j++) {
			if (arr[i] > arr[j]) {
				swap(arr + i, arr + j);
			}
		}
	}
}

// main() 함수
int main() {
	int intArray[] = { 3, 5, 1, 2, 4 };
	int intCount = (int)(sizeof(intArray) / sizeof(intArray[0]));

	print(int, intArray, intCount);
	sort(int, intArray, intCount);
	print(int, intArray, intCount);

	double doubleArray[] = { 3.2, 2.5, 8.7, 5.4, 4.8 };
	int doubleCount = (int)(sizeof(doubleArray) / sizeof(doubleArray[0]));
	print(double, doubleArray, doubleCount);
	sort(double, doubleArray, doubleCount);
	print(double, doubleArray, doubleCount);

	return 0;
}
